<!DOCTYPE html>
<html lang="en" xmlns:c="http://www.concordion.org/2007/concordion" xmlns:i="http://www.chiknrice.org/concordion">
<head>
    <meta charset="UTF-8"/>
    <title>Configuration</title>
</head>
<body>

<div id="title">
    <h1>Configuration</h1>

    <p>xml is key</p>
</div>

<h3>
    XML
</h3>

<p>
    As djeng models message elements into a hierarchical structure, it makes sense to use XML to define the
    configuration. The xml configuration defines codecs and the structure of message elements corresponding to the
    arrangement specific to a message format. The configuration file is then validated against a comprehensive schema
    which enforces most of the rules that defines a valid configuration.
</p>

<h3>
    Design
</h3>

<p>
    Complex message formats can easily be defined using the small set of xml elements which are structured as below.
<ul class="tree-structure">
    <li>config</li>
    <ul>
        <li>codecs</li>
        <ul>
            <li>filter-codec</li>
            <li>element-codec</li>
            <li>composite-codec</li>
        </ul>
        <li>message-elements</li>
        <ul>
            <li>element</li>
            <li>composite</li>
            <ul>
                <li>element</li>
                <li>composite</li>
            </ul>
        </ul>
    </ul>
</ul>
</p>

<p>
    The 'codecs' tag would be the parent of all codec definitions. A codec definition would be one of 'filter-codec',
    'element-codec', or 'composite-codec'. The definitions provide a type of codec which can be reused by the elements
    under 'message-elements' tag. Each codec definition is uniquely identified by its 'id' attribute.
</p>

<p>
    The 'message-elements' tag would be the parent of all
</p>

<h3>
    Schema Validation
</h3>

<p>
    The fundamental constraints are imposed by schema validation. The configuration constraints requires a <a
        href="MinimumConfigSpec.html" c:run="concordion">minimum configuration</a> which respects the following rules
    before any codecs are created:
<ul>
    <li><a href="#">The codecs requires at least an 'id' and 'class'</a></li>
    <li><a href="ValidNamespaceSpec.html" c:run="concordion">The core namespace should be declared</a></li>
    <li><a href="ValidIdentifiersSpec.html" c:run="concordion">Attribute values should meet the restrictions</a></li>
    <li><a href="UniqueCodecIdSpec.html" c:run="concordion">Each codec (including filters) should have a unique 'id'
        attribute</a>
    </li>
    <li><a href="UniqueElementIndexSpec.html" c:run="concordion">Elements under a 'composite' (including
        'message-elements') should have a unique 'index' attribute</a></li>
    <li><a href="MessageElementsReferenceSpec.html" c:run="concordion">The 'codec' attribute of 'message-elements' tag
        should reference a valid composite codec</a>
    </li>
    <li><a href="ElementReferenceSpec.html" c:run="concordion">The 'codec' attribute of 'element' tags should reference
        a valid element codec</a>
    </li>
    <li><a href="CompositeReferenceSpec.html" c:run="concordion">The 'codec' attribute of 'composite' tags should
        reference a valid composite codec</a>
    </li>
    <li><a href="FilterReferenceSpec.html" c:run="concordion">The 'filter' attribute of all codecs (including
        'filter-codec') should reference a valid filter codec</a></li>
    <li><a href="CodecOrderingSpec.html" c:run="concordion">The codecs should be grouped into types and defined in the
        order shown in the structure</a></li>
</ul>
</p>

<h3>
    Programmatic Validation
</h3>

<p>
    Schema validation can cover the constraints of the configuration up to a point. Where schema validation is not
    possible, programmatic validation is implemented. These rules are applied after an xml configuration passes the
    schema validation.
<ul>
    <li><a href="ValidElementCodecSpec.html" c:run="concordion">The class attribute of element-codec should be a
        decendant of ElementCodec</a></li>
    <li><a href="ValidCompositeCodecSpec.html" c:run="concordion">The class attribute of composite-codec should be a
        decendant of CompositeCodec</a></li>
    <li><a href="ValidCodecFilterSpec.html" c:run="concordion">The class attribute of filter-codec should be a decendant
        of CodecFilter</a></li>
</ul>
</p>

</body>
</html>